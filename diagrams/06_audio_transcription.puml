@startuml Audio Transcription Flow
!theme plain
title Audio Transcription Activity Diagram

start

:User records audio message;

:User uploads audio file;

:Call /transcribe endpoint;

:Validate audio file;

if (Audio file valid?) then (yes)
    :Save temporary audio file;
    :Initialize Whisper model;
    :Process audio transcription;
    if (Transcription successful?) then (yes)
        :Extract transcribed text;
        :Clean up temporary file;
        :Return transcribed text;
        :Display text to user;
        :User can edit if needed;
        :Send as chat message;
    else (no)
        :Clean up temporary file;
        :Return transcription error;
        :Show error to user;
    endif
else (no)
    :Return file validation error;
    :Show error to user;
endif

stop
@enduml
